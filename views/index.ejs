<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HoH Bank</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <style>
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    width: 100vw;
    box-sizing: border-box;
    font-family: 'Inter', 'Georgia', serif;
    background: radial-gradient(ellipse at 60% 10%, #232946 0%, #0f172a 100%);
    color: #f3f6fa;
    overflow-x: hidden;
  }
  body {
    margin: 0;
    padding: 0;
  }
  .stars {
    position: fixed;
    width: 100vw;
    height: 100vh;
    top: 0; left: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 1;
  }
  .star {
    position: absolute;
    background: white;
    border-radius: 50%;
    opacity: 0.7;
    animation: twinkle 2s infinite alternate;
    box-shadow: 0 0 8px #7df9ff, 0 0 2px #fff;
  }
  @keyframes twinkle {
    0% { opacity: 0.5; }
    100% { opacity: 1; }
  }
  .navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    background: #181f2f;
    box-shadow: 0 2px 16px #0002;
    z-index: 10;
    margin: 0;
    padding: 0.8rem 0;
  }
  .navbar-brand, .nav-link {
    color: #7df9ff !important;
    text-shadow: 0 0 8px #0ff, 0 0 2px #fff;
    font-weight: 700;
  }
  .btn-hoh {
    background: linear-gradient(90deg, #22c55e 0%, #7df9ff 100%);
    color: #181f2f;
    font-weight: 700;
    border: none;
    border-radius: 8px;
    box-shadow: 0 2px 8px #22c55e33;
    transition: transform 0.2s, box-shadow 0.2s;
    padding: 10px 28px;
    font-size: 1.1rem;
  }
  .btn-hoh:hover {
    transform: translateY(-2px) scale(1.03);
    box-shadow: 0 8px 24px #22c55e44;
    color: #fff;
  }
  .hero {
    position: relative;
    background: none;
    color: #fff;
    padding: 160px 0 80px 0;
    z-index: 1;
    overflow: visible;
  }
  .hero-planet {
    display: block;
    position: absolute;
    right: 8vw;
    top: 30px;
    width: 180px;
    height: 180px;
    background: radial-gradient(circle at 60% 40%, #7df9ff 0%, #232946 80%);
    border-radius: 50%;
    box-shadow: 0 0 80px 20px #7df9ff44, 0 0 0 8px #22c55e44;
    filter: blur(0.5px);
    animation: planetFloat 6s ease-in-out infinite alternate;
    z-index: 2;
  }
  @keyframes planetFloat {
    0% { transform: translateY(0) scale(1) rotate(-2deg); }
    100% { transform: translateY(-30px) scale(1.04) rotate(4deg); }
  }
  .hero .display-3 {
    font-family: 'Orbitron', 'Inter', 'Georgia', serif;
    font-size: 3rem;
    color: #7df9ff;
    text-shadow: 0 2px 8px #232946, 0 0 12px #7df9ff;
    letter-spacing: 1px;
    margin-bottom: 1rem;
  }
  .hero .lead {
    color: #e0eaff;
    font-size: 1.3rem;
    margin-bottom: 2rem;
    text-shadow: 0 0 8px #0ff8;
  }
  .section-title {
    color: #7df9ff;
    font-family: 'Orbitron', 'Inter', 'Georgia', serif;
    font-size: 2.2rem;
    margin-bottom: 1.2rem;
    text-shadow: none;
  }
  .section {
    background: none;
    color: #fff;
  }
  .section-light, .section-gold, .section-pale-gold, .section-cream {
    background: #232946;
    color: #fff;
    border-radius: 18px;
    margin-bottom: 40px;
    box-shadow: 0 4px 32px #0002;
    padding: 40px 0;
  }
  .section-light h2, .section-gold h2, .section-pale-gold h2, .section-cream h2 {
    color: #7df9ff;
    text-shadow: none;
  }
  .section-light p, .section-gold p, .section-pale-gold p, .section-cream p {
    color: #e0eaff;
    text-shadow: none;
  }
  .card-option, .testimonial-card, .glass-card {
    background: #232946;
    border-radius: 16px;
    box-shadow: 0 4px 24px #0003;
    border: 1.5px solid #2dd4bf;
    color: #fff;
    margin-bottom: 24px;
    padding: 24px 18px;
    transition: box-shadow 0.2s, transform 0.2s;
  }
  .card-option:hover, .glass-card:hover {
    box-shadow: 0 8px 32px #22c55e44;
    transform: translateY(-4px) scale(1.02);
  }
  .icon-circle, .icon-badge {
    background: #181f2f;
    color: #7df9ff;
    border: 2px solid #22c55e;
    font-size: 2rem;
    width: 56px;
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    margin-bottom: 12px;
  }
  .btn-danger {
    background: linear-gradient(90deg, #ff4e50 0%, #7df9ff 100%);
    color: #fff;
    border: none;
    border-radius: 8px;
    box-shadow: 0 2px 8px #ff4e5033;
  }
  .footer {
    background: #181f2f;
    color: #7df9ff;
    border-top: 2px solid #22c55e;
    box-shadow: 0 -2px 16px #0002;
    margin-top: 60px;
    padding: 48px 0 36px 0;
  }
  .footer .row {
    margin-bottom: 24px;
    gap: 24px 0;
  }
  .footer-logo {
    color: #7df9ff;
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 12px;
  }
  .footer-title {
    margin-bottom: 16px;
  }
  .footer ul {
    margin-bottom: 0;
    padding-left: 0;
  }
  .footer ul li {
    margin-bottom: 10px;
  }
  .footer .btn-danger {
    margin-top: 18px;
  }
  .footer .text-center {
    margin-top: 32px;
    font-size: 1rem;
  }
  /* Student Benefits Card - Futuristic Neon Style */
  .student-benefits-card {
    background: rgba(20, 30, 60, 0.88);
    border: 2.5px solid #7df9ff;
    border-radius: 18px;
    box-shadow: 0 0 24px 4px #7df9ff44, 0 0 8px #22c55e55;
    color: #fff;
    padding: 32px 24px;
    margin-top: 2.5rem;
    margin-bottom: 1.5rem;
    font-family: 'Orbitron', 'Inter', 'Georgia', serif;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .student-benefits-card h3 {
    color: #7df9ff;
    text-shadow: 0 0 8px #7df9ff, 0 0 2px #fff;
    font-size: 1.7rem;
    margin-bottom: 0.7rem;
    font-family: 'Orbitron', 'Inter', 'Georgia', serif;
  }
  .student-benefits-card p {
    color: #fff;
    text-shadow: 0 0 6px #22c55e99, 0 0 2px #7df9ff99;
    font-size: 1.13rem;
    margin-bottom: 0;
    letter-spacing: 0.01em;
  }
  @media (max-width: 900px) {
    .footer .row {
      flex-direction: column;
      gap: 32px 0;
    }
    .footer {
      padding: 40px 0 28px 0;
    }
  }
  @media (max-width: 600px) {
    .footer {
      padding: 32px 0 18px 0;
    }
    .footer .text-center {
      margin-top: 24px;
      font-size: 0.95rem;
    }
    .student-benefits-card {
      padding: 20px 8px;
      font-size: 1rem;
    }
    .student-benefits-card h3 {
      font-size: 1.2rem;
    }
  }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
<div class="stars"></div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg">
  <div class="container d-flex justify-content-between align-items-center">
    <a class="navbar-brand" href="/">HoH Bank</a>
    <div class="d-flex align-items-center">
      <ul class="navbar-nav me-3 d-flex flex-row">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Money
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#" title="Coming soon">Savings Account</a></li>
            <li><a class="dropdown-item" href="#" title="Coming soon">Instant Loan</a></li>
            <li><a class="dropdown-item" href="#" title="Coming soon">Credit Cards</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
        <li class="nav-item"><a class="nav-link" href="#products">Products</a></li>
        <li class="nav-item"><a class="nav-link" href="#" title="About page coming soon">About</a></li>
        <li class="nav-item"><a class="nav-link" href="#" title="Help page coming soon">Help</a></li>
      </ul>
      <a href="/login/customer" class="btn btn-outline-warning btn-sm" aria-label="Login to your account">Login</a>
    </div>
  </div>
</nav>

<!-- HERO SECTION -->
<section class="hero text-center">
  <div class="hero-planet"></div>
  <div class="container position-relative" style="z-index:2;">
    <h1 class="display-3 fw-bold section-title">HoH Bank</h1>
    <p class="lead">Bank smarter. Live better.<br><span style="font-size:1.1rem;opacity:0.8;">The future of banking, among the stars.</span></p>
    <a href="/signup/customer" class="btn btn-hoh btn-lg mt-3" aria-label="Get started with HoH Bank">Get Started</a>
  </div>
</section>

<!-- FEATURES SECTION -->
<section class="section-light py-5 text-center" id="features">
  <div class="container">
    <h2 class="mb-4 section-title">Why Choose Us?</h2>
    <div class="row">
      <div class="col-md-4">
        <h5>Daily Interest</h5>
        <p>Grow your savings every day with competitive rates.</p>
      </div>
      <div class="col-md-4">
        <h5>Instant Transfers</h5>
        <p>Move your money anytime, anywhere, instantly and securely.</p>
      </div>
      <div class="col-md-4">
        <h5>Easy Credit Card</h5>
        <p>Apply for a credit card with cash, gold, and rewards benefits.</p>
      </div>
    </div>
    <div class="student-benefits-card">
      <h3>Student Account Benefits</h3>
      <p>Exclusive discounts, no fees, and early interest boosts for students.</p>
    </div>
  </div>
</section>

<!-- PRODUCTS SECTION -->
<section class="section-gold text-center" id="products">
  <div class="container py-4">
    <h2 class="mb-3 section-title">Our Products</h2>
    <div class="row mb-3">
      <!-- You can keep or remove this row, but the main product boxes are below -->
    </div>
    <div class="card-scroller px-2">
      <div class="scroll-wrapper d-flex gap-3 justify-content-center flex-wrap">
        <% products.forEach(function(product) { %>
          <div class="card-option d-flex flex-column align-items-center justify-content-between" style="min-width: 270px; max-width: 270px; min-height: 320px; border: 2px solid #22c55e; box-sizing: border-box;">
            <div class="w-100 d-flex align-items-center mb-2" style="height:56px;">
              <div class="icon-circle" aria-hidden="true">
                <% if (product.product_type === 'debit_card') { %>💳<% } %>
                <% if (product.product_type === 'credit_card') { %>🏆<% } %>
                <% if (product.product_type === 'student_card') { %>🎓<% } %>
                <% if (product.product_type === 'rewards_card') { %>🌐<% } %>
                <% if (product.product_type === 'eco_card') { %>🌱<% } %>
                <% if (product.product_type === 'savings') { %>🏦<% } %>
                <% if (product.product_type === 'fixed_deposit') { %>💰<% } %>
              </div>
            </div>
            <h6 class="mt-2 text-center" style="min-height: 38px;"> <%= product.product_name %> </h6>
            <p class="text-center" style="min-height: 60px;"> <%= product.description %> </p>
            <a href="/apply-card" class="btn btn-hoh btn-sm mt-2 mb-2" style="width: 80%;" title="Apply for <%= product.product_name %>">Apply Now</a>
          </div>
        <% }); %>
      </div>
    </div>
  </div>
</section>

<section class="section section-cream section-pattern" data-aos="fade-right">
  <div class="container-fluid px-5">
    <div class="row align-items-center">
      <!-- TEXT COLUMN -->
      <div class="col-md-6 offset-md-1 text-center text-md-start">
        <div class="icon-badge" aria-hidden="true">💳</div>
        <small class="text-uppercase">CREDIT CARD</small>
        <h2 class="section-title">Up to 2x rewards <span>on all purchases</span></h2>
        <a href="#" class="btn btn-hoh me-2" title="Apply for a credit card (coming soon)">Apply now</a>
        <a href="#" class="btn btn-hoh" title="Learn more about credit cards (coming soon)">Learn more</a>
      </div>
      <!-- IMAGE COLUMN -->
      <div class="col-md-5 text-center" data-aos="zoom-in">
        <img src="/images/credit-card-rewards.png" alt="Credit card rewards screenshot" class="img-fluid rounded" style="max-width: 350px; border: 4px solid #22c55e;">
      </div>
    </div>
  </div>
</section>

<section class="section section-gold section-pattern" data-aos="fade-left">
  <div class="container-fluid px-5">
    <div class="row align-items-center">
      <!-- TEXT COLUMN -->
      <div class="col-md-6 offset-md-1 order-2 order-md-1 text-center text-md-start">
        <div class="icon-badge" aria-hidden="true">🏦</div>
        <small class="text-uppercase">SAVINGS ACCOUNT</small>
        <h2 class="section-title">Earn up to 3.80% <span>p.a. interest</span></h2>
        <a href="#" class="btn btn-hoh me-2" title="Open a savings account (coming soon)">Open account</a>
        <a href="#" class="btn btn-hoh" title="Learn more about savings accounts (coming soon)">Learn more</a>
      </div>
      <!-- IMAGE COLUMN -->
      <div class="col-md-5 order-1 order-md-2 text-center" data-aos="zoom-in">
        <img src="/images/savings-interest.png" alt="Savings account interest screenshot" class="img-fluid rounded" style="max-width: 350px; border: 4px solid #ffffff;">
      </div>
    </div>
  </div>
</section>

<!-- ONE ACCOUNT SECTION -->
<section class="section section-dark text-center position-relative overflow-hidden">
  <div class="pattern-overlay position-absolute top-0 start-0 w-100 h-100 opacity-10" style="background-image: url('/images/bg-pattern.svg'); background-size: cover;"></div>
  <div class="container position-relative py-5" data-aos="fade-up">
    <div class="icon-circle mx-auto mb-3" aria-hidden="true">🔗</div>
    <h2 class="section-title">One account for <span>all your needs</span></h2>
    <p class="section-subtext">Manage your savings and credit cards from one place — all at your fingertips.</p>
    <a href="#" class="btn btn-hoh mt-3" title="Learn more about our all-in-one account (coming soon)">Learn more</a>
  </div>
  <svg class="position-absolute bottom-0 start-0 w-100" viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <path fill="#d1fae5" fill-opacity="1"
      d="M0,192L80,202.7C160,213,320,235,480,224C640,213,800,171,960,144C1120,117,1280,107,1360,101.3L1440,96L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z">
    </path>
  </svg>
</section>

<!-- WELCOME GIFT SECTION -->
<section class="section section-pale-gold section-pattern" data-aos="fade-up">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between content-section">
    <div class="device-frame bg-white p-3 rounded shadow me-md-5" data-aos="zoom-in">
      <img src="/images/welcome-gift.png" alt="Welcome gift screenshot" class="img-fluid" style="max-width: 350px;">
    </div>
    <div>
      <div class="icon-badge" aria-hidden="true">🎁</div>
      <small class="text-uppercase">EXCLUSIVE PROMOTION</small>
      <h2 class="section-title">Get welcome gifts worth S$500</h2>
      <p>Sign up for any HoH account and enjoy a welcome gift valued at over S$500. T&Cs apply.</p>
      <a href="#" class="btn btn-hoh" title="Learn more about promotions (coming soon)">Learn more</a>
    </div>
  </div>
</section>

<!-- TESTIMONIALS & TRUST BADGES SECTION -->
<section class="testimonial-section">
  <div class="container">
    <div class="testimonial-card">
      <div class="testimonial-quote">“HoH Bank made it so easy to open my first account. The app is fast, secure, and the support team is always helpful!”</div>
      <div class="testimonial-author">— Sarah L., Singapore</div>
    </div>
    <div class="trust-badges mt-5">
      <div class="trust-badge"><i class="bi bi-shield-lock"></i> MAS Licensed</div>
      <div class="trust-badge"><i class="bi bi-patch-check"></i> PDPA Compliant</div>
      <div class="trust-badge"><i class="bi bi-phone"></i> 24/7 Support</div>
      <div class="trust-badge"><i class="bi bi-bank"></i> Trusted by 10,000+ users</div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <div class="footer-logo">HOH</div>
        <p>Personal Banking</p>
      </div>
      <div class="col-md-4">
        <div class="footer-title">Useful links</div>
        <ul class="list-unstyled">
          <li><a href="#" title="Online banking coming soon">HOH Online Banking</a></li>
          <li><a href="#" title="ATM locator coming soon">ATM and Branch locator</a></li>
          <li><a href="#" title="Support coming soon">Help and Support</a></li>
          <li><a href="#" title="Documents coming soon">Important Documents</a></li>
          <li><a href="#" title="Report vulnerability coming soon">Report Vulnerability</a></li>
          <li><a href="/terms">Terms and Conditions</a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <div class="footer-title">Get in touch with us</div>
        <ul class="list-unstyled">
          <li><a href="tel:+6563383833">📞 +65 6338 3833</a></li>
          <li><a href="mailto:support@hohbank.com">📧 Contact Us</a></li>
        </ul>
        <a href="#" class="btn btn-danger mt-2" title="Need help? (coming soon)">❓ Need help?</a>
      </div>
    </div>
    <div class="text-center mt-4">
      <small>
        <a href="/conditions">Conditions of Access</a> | 
        <a href="/notices">Notices</a> | 
        <a href="/terms">Terms and Conditions</a>
    </small><br>
      <small>Co: Reg.No 600L—2024 105200067M</small>
    </div>
  </div>
</footer>

<!-- Chatbot Floating Button -->
<button id="faq-chatbot-btn" title="Ask a question">
  <img src="/images/bot-avatar.png" alt="Chatbot" class="chatbot-btn-avatar" />
</button>
<!-- Chatbot Popup Window -->
<div id="faq-chatbot-window">
  <div class="chatbot-header">
    <img src="/images/bot-avatar.png" class="chatbot-avatar" alt="Bot" />
    <div class="chatbot-header-info">
      <div class="chatbot-title">HOH Assistant</div>
      <div class="chatbot-status"><span class="status-dot"></span> Online Now</div>
    </div>
    <button class="chatbot-close" id="faq-chatbot-close" title="Close">&times;</button>
  </div>
  <div id="faq-chatbot-messages" class="chatbot-messages">
    <div class="faq-chatbot-msg bot">
      <div class="bubble bot-bubble">
        <img src="/images/bot-avatar.png" class="bubble-avatar" alt="Bot" />
        <span>👋 Hi! I’m your digital bank assistant. How can I help you today?</span>
      </div>
    </div>
  </div>
  <div id="faq-chatbot-quickreplies" class="chatbot-quickreplies" style="display:none;"></div>
  <form id="faq-chatbot-form" autocomplete="off" style="display: flex; align-items: center; gap: 8px;">
    <input id="faq-chatbot-input" type="text" placeholder="Type your question..." required style="flex: 1; min-width: 0;" />
    <button id="faq-chatbot-mic-btn" type="button" style="background:#232946;border:none;border-radius:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin:0 2px 0 0;">
      <i class="bi bi-mic" style="color:#7df9ff;font-size:1.5rem;"></i>
    </button>
    <button id="faq-chatbot-send" type="submit" style="background:linear-gradient(90deg,#22c55e 0%,#7df9ff 100%);border:none;border-radius:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;">
      <i class="bi bi-send" style="color:#232946;font-size:1.5rem;"></i>
    </button>
  </form>
</div>
<style>
  #faq-chatbot-btn {
    position: fixed;
    bottom: 32px;
    right: 32px;
    z-index: 2147483647;
    background: linear-gradient(90deg, #22c55e 0%, #7df9ff 100%);
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    box-shadow: 0 4px 24px #22c55e55;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    padding: 0;
    pointer-events: auto;
    transition: box-shadow 0.2s, background 0.2s;
  }
  .chatbot-btn-avatar {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    object-fit: cover;
    object-position: center;
    box-shadow: 0 0 8px #22c55e55;
    border: 2px solid #fff;
    background: #232946;
    display: block;
    aspect-ratio: 1/1;
    pointer-events: none;
  }
  #faq-chatbot-window {
    position: fixed;
    bottom: 100px;
    right: 32px;
    z-index: 2147483647;
    width: 370px;
    max-width: 98vw;
    background: #232946;
    border-radius: 18px;
    box-shadow: 0 8px 32px #7df9ff44, 0 2px 8px #22c55e33;
    display: none;
    flex-direction: column;
    overflow: hidden;
    border: 1.5px solid #22c55e;
    animation: chatbot-pop 0.25s cubic-bezier(.4,1.4,.6,1) 1;
  }
  @keyframes chatbot-pop {
    0% { transform: scale(0.8) translateY(40px); opacity: 0; }
    100% { transform: scale(1) translateY(0); opacity: 1; }
  }
  .chatbot-header {
    display: flex;
    align-items: center;
    gap: 0.7rem;
    background: linear-gradient(90deg, #232946 60%, #22c55e22 100%);
    color: #7df9ff;
    font-family: 'Orbitron', 'Inter', 'Georgia', serif;
    font-size: 1.1rem;
    font-weight: 700;
    padding: 0.7rem 1.2rem 0.7rem 1.2rem;
    border-bottom: 1.5px solid #232946;
    position: relative;
  }
  .chatbot-avatar {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    background: #232946;
    border: 2px solid #7df9ff;
    box-shadow: 0 0 8px #22c55e55;
    object-fit: cover;
    object-position: center;
    display: block;
    aspect-ratio: 1/1;
    overflow: hidden;
  }
  .chatbot-header-info {
    display: flex;
    flex-direction: column;
    line-height: 1.1;
  }
  .chatbot-title {
    font-size: 1.08rem;
    color: #7df9ff;
    font-family: 'Orbitron', 'Inter', 'Georgia', serif;
  }
  .chatbot-status {
    font-size: 0.92rem;
    color: #22c55e;
    display: flex;
    align-items: center;
    gap: 0.3em;
  }
  .status-dot {
    display: inline-block;
    width: 9px;
    height: 9px;
    background: #22c55e;
    border-radius: 50%;
    margin-right: 0.3em;
    box-shadow: 0 0 6px #22c55e99;
  }
  .chatbot-close {
    color: #7df9ff;
    font-size: 1.3rem;
    cursor: pointer;
    background: none;
    border: none;
    transition: color 0.2s;
    position: absolute;
    right: 12px;
    top: 12px;
    z-index: 2;
  }
  .chatbot-close:hover { color: #22c55e; }
  .chatbot-messages {
    flex: 1;
    padding: 1rem 1.2rem;
    background: #232946;
    overflow-y: auto;
    max-height: 320px;
    font-size: 1.05rem;
    color: #e0eaff;
    display: flex;
    flex-direction: column;
    gap: 0.7rem;
  }
  .faq-chatbot-msg {
    display: flex;
    align-items: flex-end;
    gap: 0.7rem;
    animation: fadeInMsg 0.25s cubic-bezier(.4,1.4,.6,1);
  }
  @keyframes fadeInMsg {
    0% { opacity: 0; transform: translateY(20px) scale(0.95); }
    100% { opacity: 1; transform: none; }
  }
  .faq-chatbot-msg.user {
    justify-content: flex-end;
    align-items: flex-end;
  }
  .faq-chatbot-msg.bot {
    justify-content: flex-start;
    align-items: flex-end;
  }
  .bubble {
    padding: 0.7rem 1.1rem;
    border-radius: 18px 18px 6px 18px;
    background: linear-gradient(90deg, #22c55e33 0%, #7df9ff22 100%);
    color: #fff;
    max-width: 80%;
    word-break: break-word;
    box-shadow: 0 2px 8px #22c55e22;
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.7em;
    font-size: 1.04rem;
  }
  .bot-bubble {
    background: linear-gradient(90deg, #232946 0%, #22c55e33 100%);
    color: #7df9ff;
    border-radius: 18px 18px 18px 6px;
    border: 1.2px solid #22c55e44;
  }
  .user .bubble {
    background: linear-gradient(90deg, #7df9ff 0%, #22c55e 100%);
    color: #181f2f;
    border-radius: 18px 6px 18px 18px;
    border: 1.2px solid #7df9ff44;
    font-weight: 600;
  }
  .bubble-avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: #232946;
    border: 1.5px solid #22c55e;
    object-fit: cover;
    object-position: center;
    box-shadow: 0 0 6px #22c55e55;
    display: block;
    aspect-ratio: 1/1;
    overflow: hidden;
  }
  .chatbot-quickreplies {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.5rem 1.2rem 0.5rem 1.2rem;
    background: #232946;
    border-top: 1px solid #181f2f;
    justify-content: flex-start;
  }
  .quickreply-btn {
    background: #232946;
    color: #7d6fff;
    border: 1.5px solid #7df9ff;
    border-radius: 20px;
    padding: 0.4rem 1.2rem;
    font-size: 1.01rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s, color 0.2s, border 0.2s;
  }
  .quickreply-btn:hover {
    background: #7df9ff;
    color: #232946;
    border: 1.5px solid #22c55e;
  }
  #faq-chatbot-form {
    display: flex;
    gap: 0.5rem;
    padding: 0.8rem 1.2rem 1.1rem 1.2rem;
    background: #181f2f;
    border-top: 1.5px solid #232946;
  }
  #faq-chatbot-input {
    flex: 1;
    border-radius: 8px;
    border: 1.5px solid #22c55e;
    background: #232946;
    color: #fff;
    padding: 0.5rem 1rem;
    font-size: 1.05rem;
  }
  #faq-chatbot-input:focus {
    outline: none;
    border-color: #7df9ff;
  }
  #faq-chatbot-send {
    background: linear-gradient(90deg, #22c55e 0%, #7df9ff 100%);
    color: #181f2f;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    font-size: 1.1rem;
    padding: 0.5rem 1.2rem;
    transition: background 0.2s, color 0.2s;
  }
  #faq-chatbot-send:hover {
    background: linear-gradient(90deg, #7df9ff 0%, #22c55e 100%);
    color: #fff;
  }
  @media (max-width: 600px) {
    #faq-chatbot-window { right: 2vw; width: 98vw; }
    #faq-chatbot-btn { right: 2vw; }
  }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const chatbotBtn = document.getElementById('faq-chatbot-btn');
    const chatbotWindow = document.getElementById('faq-chatbot-window');
    const chatbotClose = document.getElementById('faq-chatbot-close');
    const chatbotForm = document.getElementById('faq-chatbot-form');
    const chatbotInput = document.getElementById('faq-chatbot-input');
    const chatbotMessages = document.getElementById('faq-chatbot-messages');
    const quickReplies = document.getElementById('faq-chatbot-quickreplies');
    const micBtn = document.getElementById('faq-chatbot-mic-btn');
    let recognition;
    if ('webkitSpeechRecognition' in window) {
      recognition = new webkitSpeechRecognition();
      recognition.lang = 'en-US'; // You can set this dynamically if needed
      recognition.continuous = false;
      recognition.interimResults = false;

      micBtn.onclick = function() {
        recognition.start();
        micBtn.disabled = true;
        micBtn.innerHTML = '<i class="bi bi-mic-fill"></i>';
      };

      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        chatbotInput.value = transcript;
        micBtn.disabled = false;
        micBtn.innerHTML = '<i class="bi bi-mic"></i>';
        // Optionally auto-submit:
        // chatbotForm.dispatchEvent(new Event('submit', {cancelable:true, bubbles:true}));
      };

      recognition.onerror = function() {
        micBtn.disabled = false;
        micBtn.innerHTML = '<i class="bi bi-mic"></i>';
      };

      recognition.onend = function() {
        micBtn.disabled = false;
        micBtn.innerHTML = '<i class="bi bi-mic"></i>';
      };
    } else {
      micBtn.style.display = 'none'; // Hide if not supported
    }
    // Popup logic
    chatbotBtn.onclick = function(e) {
      e.stopPropagation();
      chatbotWindow.style.display = 'flex';
    };
    chatbotClose.onclick = function(e) {
      e.stopPropagation();
      chatbotWindow.style.display = 'none';
    };
    // Demo quick reply system
    function showQuickReplies(options) {
      quickReplies.innerHTML = '';
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'quickreply-btn';
        btn.innerText = opt;
        btn.onclick = function() {
          chatbotInput.value = opt;
          chatbotForm.dispatchEvent(new Event('submit', {cancelable:true, bubbles:true}));
          quickReplies.style.display = 'none';
        };
        quickReplies.appendChild(btn);
      });
      quickReplies.style.display = 'flex';
    }
    // Chatbot form logic
    chatbotForm.onsubmit = async function(e) {
      e.preventDefault();
      const question = chatbotInput.value.trim();
      if (!question) return;
      // Show user message
      const userMsg = document.createElement('div');
      userMsg.className = 'faq-chatbot-msg user';
      userMsg.innerHTML = `<div class=\"bubble\"><span>${question}</span></div>`;
      chatbotMessages.appendChild(userMsg);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      chatbotInput.value = '';
      // Show loading...
      const botMsg = document.createElement('div');
      botMsg.className = 'faq-chatbot-msg bot';
      botMsg.innerHTML = `<div class=\"bubble bot-bubble\"><img src='/images/bot-avatar.png' class='bubble-avatar' alt='Bot' /><span style='opacity:0.7;'>Thinking...</span></div>`;
      chatbotMessages.appendChild(botMsg);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      // Fetch answer from Dialogflow
      try {
        const res = await fetch(`/api/dialogflow?question=${encodeURIComponent(question)}`);
        const data = await res.json();
        botMsg.innerHTML = `<div class=\"bubble bot-bubble\"><img src='/images/bot-avatar.png' class='bubble-avatar' alt='Bot' /><span>${data.answer}</span></div>`;
      } catch {
        botMsg.innerHTML = `<div class=\"bubble bot-bubble\"><img src='/images/bot-avatar.png' class='bubble-avatar' alt='Bot' /><span>Sorry, I couldn't connect to the FAQ service.</span></div>`;
      }
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    };
  });
</script>
<!-- Add Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Starfield animation
  function createStars(num) {
    const stars = document.querySelector('.stars');
    for (let i = 0; i < num; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      const size = Math.random() * 2 + 1;
      star.style.width = `${size}px`;
      star.style.height = `${size}px`;
      star.style.top = `${Math.random() * 100}vh`;
      star.style.left = `${Math.random() * 100}vw`;
      star.style.opacity = Math.random() * 0.7 + 0.3;
      star.style.animationDuration = `${1.5 + Math.random() * 2}s`;
      stars.appendChild(star);
    }
  }
  createStars(120);
  AOS.init({
    duration: 800,
    once: true
  });
</script>
</body>
</html>
